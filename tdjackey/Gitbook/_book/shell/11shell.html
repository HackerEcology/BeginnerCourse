<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>基本终端命令 | My Book</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.3">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="../shell/shell.html" />
    
    
    <link rel="prev" href="../shell/README.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book"  data-level="1.1" data-basepath=".." data-revision="1421561019910">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="shell/README.html">
            
                
                    <a href="../shell/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Shell
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter active" data-level="1.1" data-path="shell/11shell.html">
            
                
                    <a href="../shell/11shell.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         基本终端命令
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="shell/shell.html">
            
                
                    <a href="../shell/shell.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         shell脚本编程
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.3" data-path="shell/hi.html">
            
                
                    <a href="../shell/hi.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                         高级挑战
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="a_swift_tour/README.html">
            
                
                    <a href="../a_swift_tour/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         A Swift Tour
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="big_o_notation/README.html">
            
                
                    <a href="../big_o_notation/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Big O Notation
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="sorting/README.html">
            
                
                    <a href="../sorting/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Sorting
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >My Book</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_1820">
                    
                        <h1 id="11">1.1基本终端命令</h1>
<h3 id="">为什么要使用命令行/如何开启命令行？</h3>
<ul>
<li>许多功能在图形界面不提供，只有通过命令行来实现。</li>
<li>Finder会隐藏许多你不太会需要的文件，然而 command line 会允许你访问所有文件。</li>
<li>通过 command line 可以远程访问你的 Mac（利用 SSH）。</li>
<li>administrators 用户可以通过 sudo 命令获得 root 用户权限。</li>
<li>通过 command-line script 可以使工作更高效。</li>
<li>Terminal（终端）程序可以在“实用工具”里找到。</li>
<li>如果你开启手动输入用户名登陆模式，登陆时在用户名处输入 &gt;con
sole 可以直接进入命令行界面。随后你仍然需要登录到一个账户。</li>
</ul>
<h3 id="command-line">初识Command Line</h3>
<ul>
<li>许多命令会花费一些时间来执行，然而这中间不会给出任何提示或者进度条。一般结束后会出现一个“用户名$”的标记。如果没有出现，那么说明最后一条命令正在执行。</li>
<li>一条命令包括 Command Name、Options、Arguments、Extras 四个部分，但是后三个部分有时是可选的。Options 部分用-作为前导符。其中许多命令的 Options 部分只包含单个字母，这时可以合并。例如，ls -lA和ls -l -A是等效的。Arguments 部分用来细化这个命令或指定这个命令具体的实施对象，Extras 部分则用来进一步实现其他功能。</li>
<li>举例：以下新建了一个test.txt 并且删除了它</li>
</ul>
<pre><code>$ ls
$ cd
$ ls
$ cd Desktop
$ mkdir folder
$ cd folder
$ touch test.txt
$ rm test.txt
$ cd ..
$ rm -r folder
</code></pre><ul>
<li>如果你输入了一些错误的命令，系统会返回一些错误信息。但是系统却不会阻止你做傻事（例如删除整个用户文件夹）。</li>
</ul>
<h3 id="-man-">关于 man 命令</h3>
<p>虽然有上千条命令，每条命令还有许多可选参数和具体的使用方式，但是你却不需要记住这些命令。你只需要记住一个：man</p>
<p>大多数命令都会包含一个使用指南，会告诉你任何你需要知道的关于这个命令的所有细节，在命令行中输入 man command-name 即可获取。例如，你想知道ls这个命令怎么使用，输入man ls即可进入使用指南页面。</p>
<p>按Q来退出使用指南页面。</p>
<h3 id="">命令行，文件和路径</h3>
<blockquote>
<p>如果知道如何使用命令是掌握 command line 的第一步，那么第二步就是学习如何在 command line 中使用文件路径。如果你掌握了文件路径，你将会发现这比使用 Finder 更加快捷。</p>
</blockquote>
<p><strong>注意</strong></p>
<p>command line 工具是大小写敏感的，并且对于文件名，必须包括扩展名。例如，你想找iTunes这个程序，输入itunes是无效的，必须输入iTunes.app。
Mac OS传统上喜欢使用“文件夹”（folders）这个名称，但是在 command line 中，主要使用“目录”（directory）这个词。这和 UNIX 是一致的。</p>
<h3 id="">两种路径：绝对路径和相对路径</h3>
<ul>
<li>绝对路径：完整描述一个文件的位置，总是以斜杠（/）（forward slash）开头。例如/Users/michelle/Public/Drop Box。</li>
<li>相对路径：只描述一部分位置信息，它和你在 command line 目前的目录有关。当你打开新的 Terminal 程序时，command line 会话的目录应该是你的 home folder。这时上面例子文件夹的相对路径写作Public/Drop Box。显然它从当前目录开始。和html类似，你也可以使用两个点（“..”）来代表父目录，这样你就可以用相对路径表示上级或同级目录了。例如你可以输入cd ..甚至cd ../..</li>
</ul>
<h3 id="">切换到其他路径和目录</h3>
<p>如果你想将当前 command line 会话切换到其他目录，需要用到三个命令：pwd，ls和cd。</p>
<ul>
<li>pwd的含义是“print working directory”，会显示当前目录的绝对路径。</li>
<li>ls的含义是“list directory contents”，它会列出当前目录的内容。这个命令还有其他参数可选。</li>
<li>cd的含义是“change directory”，它会改变当前目录到你指定的目录。如果你不指定，则会返回你的 home folder。</li>
</ul>
<h3 id="">查看隐藏文件</h3>
<p>为了简化工作，command line 和 Finder 都会隐藏许多文件和文件夹，这些内容通常是系统需要的。不借助第三方工具让 Finder 显示隐藏文件比较困难，但是在 command line 中却非常简单。首先，许多隐藏文件的隐藏是通过隐藏属性在 Finder 中隐藏的，而 command line 会忽略这些属性，所以这些文件会在 command line 中显示。另外，ls命令会隐藏文件名以.开头的文件，但是这些文件却可以被显示出来，方法是利用-a选项。例如：</p>
<pre><code>$ ls -la
</code></pre><h3 id="command-line">用Command-Line管理文件</h3>
<h4 id="">检视文件</h4>
<p>有许多基础命令用来定位、检视文件和文件夹，包括cat, less, which, file以及find。别忘了，你可以利用man命令来查阅每个命令的使用指南。</p>
<h4 id="cat">cat</h4>
<p>cat是“concatenate”的意思，会按顺序读取文件并输出到 Terminal 窗口，语法为cat后接你需要查看的文件的路径。cat命令也可以用&gt;&gt;来增加文本文件的内容，例如命令cat ../textOne.txt &gt;&gt; textTwo.txt会把 textOne.txt 的内容添加到 textTwo.txt 的结尾。这个&gt;&gt;就属于上一篇提到的“Extras”。</p>
<h4 id="which">which</h4>
<p>这个命令会定位某个命令的文件路径。换言之，它会告诉你你执行某个具体命令的时候，在使用哪个文件。语法为which后接某个命令。</p>
<h3 id="file">file</h3>
<p>这个命令会尝试根据文件的内容输出文件类型。如果一个文件缺失了扩展名，那么这个命令可能会非常有用。语法为file后接文件路径。如图，此例为一个 PNG 文件，还给出了它的尺寸、颜色数等信息。</p>
<h4 id="find">find</h4>
<p>这个命令用来根据搜索关键词定位文件路径。 find命令不使用 Spotlight 搜索服务，但是它允许你设置非常具体的搜索条件，以及通配符（稍后介绍）。语法为find后接搜索的起始路径，后接定义搜索的选项，后接搜索内容（包含在引号里）。</p>
<h2 id="">使用递归命令</h2>
<p>简单来说，递归命令可以允许命令不执行于一个特定文件，而是指定的路径下的所有文件。大多数命令包含一个-r或者-R选项，来设定你想递归地执行这个命令。例如下面的例子，展示了添加-R后ls命令的执行方式：</p>
<pre><code>ls
ls -R
</code></pre><h2 id="">编辑文件和文件夹</h2>
<p>有许多基础的命令用来编辑文件和文件夹，包括mkdir, cp, mv, rm, rmdir以及vi。下面我们来简要地介绍一下这些命令。</p>
<h4 id="mkdir">mkdir</h4>
<p>“make diretory”的缩写，用来创建文件夹，语法为mkdir后接新文件夹的目录。可以用-p选项，来一起创建路径中不存在的文件夹（这样你就不用挨层创建了）。</p>
<h3 id="cp">cp</h3>
<p>“copy”的缩写，用来把文件从一处复制到另一处。语法为cp后接原始路径，后接目标路径。如果你想复制整个文件夹和所有内容，需要添加-R选项。如果指定的目标路径不含文件名，则 cp 命令会按原名复制。如果指定的目标路径包括文件名，则会复制为你指定的文件名。如果仅指定新文件名，则会在原处以新名称创建文件副本。注意，系统会自动替换同名文件而不出现提示。</p>
<h3 id="mv">mv</h3>
<p>“move”的缩写，用来移动文件。语法为mv后接原路径，后接新路径。mv 的指定路径规则和 cp 是一样的（没错，如果仅指定新文件名，它就成了重命名命令）。</p>
<h3 id="rm">rm</h3>
<p>“remove”的缩写，会永久删除文件。注意，command-line中没有废纸篓。语法为rm后接文件路径。然而，使用 rm 命令删除的文件有可能可以通过数据恢复工具恢复。如果希望安全删除文件，可以使用srm命令。</p>
<h3 id="rmdirrm--r">rmdir和rm -R</h3>
<p>rmdir是“remove directory”的缩写，这个命令会永久删除文件夹。再强调一遍，CLI 中木有废纸篓。语法为rmdir后接希望删除目录的路径。然而，rmdir 命令无法删除含有任何其他文件的文件夹，所以大多数情形下rmdir命令是不适用的。不过，你可以利用rm添加-R选项来删除文件夹及包含的所有文件。</p>
<h3 id="vi">vi</h3>
<p>代表“visual”（视觉的），然而这个名称相当具有讽刺意味：vi可能是可视化效果最差的文本编辑器了。然而，vi 是 command line 中最常见的文本编辑器。用vi打开文本文件，只需要输入vi后接文件路径即可。Mac OS X 还提供了nano，一个更加现代的文本编辑器。它也更加方便，例如在底部包含了一个作弊小条（=_=），上面有常用的快捷键列表（你就不用背下来它们了）。然而，vi却有时是默认的文本编辑器，所以掌握vi是很有用的。</p>
<p>和less命令类似，vi命令会占用整个 Terminal 空间来显示文件内容。打开后，在“command模式”，vi 会等你输入一些预定义字符来告诉 vi 你想做什么。你也可以使用键盘上的箭头键单纯地浏览文件。你想编辑时，按A开始（会进入编辑模式）。文字会插入到光标处。如果你想保存，需要先退出编辑模式进入 command 模式。方法是按下esc键。回到 command 模式后，按住shift同时按两次Z来保存并退出。如果你不想保存，在 command 模式输入:quit!并按enter
return直接退出。</p>
<h2 id="command-line">用Command-Line管理系统</h2>
<h3 id="su">使用su来切换用户</h3>
<p>su命令代表“substitute user identity”，允许你在命令行中轻松切换到另一个用户账户。语法为su后接用户的短名称。然后会要求你输入密码（但是输入的时候不会显示）。执行完毕后，命令的前缀会改变，表示你拥有其他用户的权利。你可以利用who -m命令来验证当前登陆的身份。切换后，你会一直保持该用户身份，直至退出 Terminal 或者输入exit命令。</p>
<h3 id="sudo">关于sudo的使用</h3>
<h4 id="sudo">sudo概述</h4>
<p>更强大的命令就是sudo，代表“substitute user do”，或者，更恰当地，“super user do”。用sudo执行一个命令会使用 root 账户权限。当然，使用之前需要 administrator 账户（管理员账户）的授权（如输入密码）。</p>
<p>默认情况下，任何管理员账户都可以使用sudo来获取 root 权限，甚至当 root 账户在图形界面被禁用的情况下，sudo依然有效。这个命令是很多情况下我们不得不使用 Terminal 的原因，——同样也是给每个用户管理员身份的危险所在。不过，你可以调整sudo的配置文件，来限制它的使用。
提示：如果由于你忘了使用sudo而导致命令行返回一个错误，只需输入sudo !!就可以用sudo来执行上一条指令。</p>
<p>记住，权力越大责任越大。不恰当地使用sudo可以轻易破坏你的系统设置。命令行只会在你第一次执行严重破坏性行为之前提示你，之后，它就会假设你清楚自己正在干什么。如果你只掌握三条使用命令行的准则，那将是：总是仔细检查你的命令；总是使用Tab completion来帮助你避免拼写错误；使用sudo之前，总是仔仔细细检查你的命令。</p>
<h3 id="-sudo--shell">使用 sudo 切换 Shell</h3>
<p>如果你是一个管理员用户，你需要执行很多条需要 root 权限的命令，你可以临时切换整个命令行 shell 来取得 root 级别的访问权限。方法就是先输入sudo -s，回车后再键入你的密码。</p>
<h3 id="command-line">其他Command-Line技巧提示</h3>
<ul>
<li>输入命令open .可以用 Finder 打开当前的位置。</li>
<li>在 Terminal 的偏好里面可以设定它的外观和风格。</li>
<li>中止一个错误的或者发疯的命令，可以使用组合键control + C。</li>
<li>你可以在执行前编辑命令，只需要使用箭头和键盘上的其他字母。</li>
<li>没有输入任何命令时，你可以用▲和▼来浏览历史命令。同样可以编辑和再次执行。</li>
<li>你也可以使用history命令查看历史记录。</li>
<li>你可以使用组合键control + L清屏。</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../shell/README.html" class="navigation navigation-prev " aria-label="Previous page: Shell"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../shell/shell.html" class="navigation navigation-next " aria-label="Next page: shell脚本编程"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
